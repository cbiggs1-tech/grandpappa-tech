<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAMES | GRANDPAPA.NET</title>
    <link rel="stylesheet" href="style.css">
    <script src="js/modem.js" defer></script>
</head>
<body>
    <div class="starfield">
        <div class="stars"></div>
        <div class="stars2"></div>
        <div class="stars3"></div>
    </div>
    <div class="crt">
        <div class="scanlines"></div>
        <main>
            <header>
                <h1 class="page-title">/// GAMES ///</h1>
            </header>

            <nav>
                <span>[ <a href="index.html">HOME</a> ]</span>
                <span>[ <a href="games.html">GAMES</a> ]</span>
                <span>[ <a href="about.html">ABOUT</a> ]</span>
                <span>[ <a href="contact.html">CONTACT</a> ]</span>
            </nav>

            <section class="content">
                <h2>>>> SELECT YOUR GAME <<<</h2>

                <ul class="game-list">
                    <li class="game-card-grid">
                        <img src="images/spacejunkblaster-thumb.png" alt="Space Junk Blaster - Screenshot of space janitor melting orbital debris" class="game-thumb">
                        <div class="game-info-text">
                            <h4>SPACE JUNK BLASTER</h4>
                            <p>You're a space janitor! Use your plasma torch to melt orbital debris. Watch out for aliens hiding on asteroids!</p>
                            <p>GENRE: ACTION | PLAYERS: 1</p>
                            <a href="play/spacejunkblaster/index.html" class="btn btn-play">>> PLAY GAME <<</a>
                        </div>
                    </li>

                    <li class="game-card-grid">
                        <img src="images/gigaparsec-thumb.png" alt="Gigaparsec - Screenshot of side-scrolling space shooter gameplay" class="game-thumb">
                        <div class="game-info-text">
                            <h4>GIGAPARSEC</h4>
                            <p>Side-scrolling space shooter. Destroy enemy ships, dodge asteroids, collect power-ups.</p>
                            <p>GENRE: SHOOTER | PLAYERS: 1</p>
                            <a href="play/gigaparsec/index.html" class="btn btn-play">>> PLAY GAME <<</a>
                        </div>
                    </li>
                </ul>

                <p class="blink" style="text-align: center; margin-top: 40px;">MORE GAMES COMING SOON...</p>
            </section>

            <footer>
                <p>--------------------------------------</p>
                <p>GRANDPAPA.NET (C) 2025</p>
                <p>GAME OVER? NEVER.</p>
            </footer>
        </main>
    </div>

    <!-- Background Music -->
    <audio id="bgMusic" loop>
        <source src="music/deep-space-10.mp3" type="audio/mpeg">
    </audio>
    <button id="musicToggle" class="music-btn">MUSIC: ON</button>
    <script>
        const music = document.getElementById('bgMusic');
        const btn = document.getElementById('musicToggle');
        music.volume = 0.4;

        let autoplayBlocked = false;

        function updateButtonState(playing) {
            if (playing) {
                btn.textContent = 'MUSIC: ON';
                btn.classList.add('playing');
            } else {
                btn.textContent = 'MUSIC: OFF';
                btn.classList.remove('playing');
            }
        }

        // Always try to play music on page load (default is ON)
        music.play().then(() => {
            updateButtonState(true);
        }).catch(() => {
            autoplayBlocked = true;
            // Still show ON since that's the intended state
            updateButtonState(true);
        });

        // If autoplay was blocked, start music on first user interaction
        document.addEventListener('click', function startMusicOnInteraction(e) {
            if (e.target === btn) return; // Let button handler deal with it
            if (autoplayBlocked) {
                music.play().then(() => {
                    autoplayBlocked = false;
                    updateButtonState(true);
                });
            }
        }, { once: true });

        btn.addEventListener('click', () => {
            if (music.paused) {
                music.play();
                updateButtonState(true);
                autoplayBlocked = false;
            } else {
                music.pause();
                updateButtonState(false);
            }
        });

        // ESC key to go to home page
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                window.location.href = 'index.html';
            }
        });
    </script>
</body>
</html>
